# Render Blueprint: Ampli5 frontend (Supabase backend)
# Supabase project must be created separately. Edge Functions deployed via Supabase CLI.
# See docs/SUPABASE_MIGRATION.md for setup.

services:
  - type: web
    runtime: static
    name: ampli5-frontend
    rootDir: frontend
    buildCommand: npm ci && npm run build
    staticPublishPath: ./dist
    envVars:
      - key: VITE_SUPABASE_URL
        sync: false
      - key: VITE_SUPABASE_ANON_KEY
        sync: false
      - key: VITE_GOOGLE_CLIENT_ID
        sync: false
    routes:
      - type: rewrite
        source: /*
        destination: /index.html
